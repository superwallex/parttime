<!-- Chosen Palette: Warm Neutral Professional (Soft Beige Background #fdfbf7, Slate Text, Sage Green Accents) -->
<!-- Application Structure Plan:
     1. App Navbar (UPDATED): 
        - Left: Title "Global Remote Work Explorer".
        - Right: Text link "Follow Super WALL-E" replaces the old subtitle.
     2. Analytics Section: Visualizations for Salary and Category.
     3. Filter & Sort Logic: Prioritizes 'High Suitability'.
     4. Opportunity Grid: Dynamic cards.
     5. Detail Modal: With fixed footer for direct access.
-->
<!-- Visualization & Content Choices:
     - Navbar: Clean white layout.
     - Brand Link: Integrated subtly on the right side with X icon.
-->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全球远程工作机会探索中心 | Super WALL-E</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- FontAwesome including Brands for X icon -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background-color: #fdfbf7;
            color: #334155;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 300px;
            margin: 0 auto;
        }
        .modal-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .modal-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .modal-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        .modal-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        .suitability-dot {
            height: 10px;
            width: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
        }
        /* Custom list style for strategy steps */
        .step-list {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }
        .step-list li {
            position: relative;
            padding-left: 36px;
            margin-bottom: 12px;
            font-size: 0.95rem;
            color: #475569;
        }
        .step-list li::before {
            counter-increment: step-counter;
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 2px;
            width: 24px;
            height: 24px;
            background-color: #e0f2fe; /* light blue */
            color: #0284c7; /* blue-600 */
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-size: 12px;
            font-weight: bold;
        }
        .step-list li strong {
            color: #1e293b;
            display: block;
            margin-bottom: 2px;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- App Navbar (Updated) -->
    <nav class="bg-white shadow-sm border-b border-stone-200 sticky top-0 z-30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Left: App Title -->
                <div class="flex items-center">
                    <i class="fa-solid fa-globe text-teal-600 text-2xl mr-3"></i>
                    <h1 class="text-xl font-bold text-slate-800">全球远程工作探索中心</h1>
                </div>

                <!-- Right: Brand / X Link -->
                <div class="flex items-center">
                    <a href="https://x.com/SuperWaLLEAI" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-sm font-semibold text-slate-500 hover:text-teal-600 transition-colors duration-200 bg-stone-50 hover:bg-stone-100 px-3 py-1.5 rounded-full border border-transparent hover:border-stone-200">
                        <i class="fa-brands fa-x-twitter text-lg"></i>
                        <span>关注 超级瓦力 | Super WALL-E</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- Introduction Section -->
        <section class="mb-10 text-center max-w-3xl mx-auto">
            <h2 class="text-3xl font-bold text-slate-800 mb-4">数字化副业与远程工作申请指南</h2>
            <p class="text-lg text-slate-600 leading-relaxed">
                本页面不仅分析了薪资与可行性，更提供了针对中国用户的<strong>保姆级申请攻略</strong>。
                列表已默认优先展示<strong class="text-teal-600">“非常适合”</strong>和<strong class="text-amber-600">“中等适合”</strong>的机会，点击卡片即可查看详细步骤。
            </p>
        </section>

        <!-- Analytics Dashboard -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <!-- Salary Chart -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                <div class="mb-4">
                    <h3 class="text-lg font-semibold text-slate-800 flex items-center">
                        <i class="fa-solid fa-sack-dollar text-teal-500 mr-2"></i> 薪资潜力分析 (美元/小时)
                    </h3>
                    <p class="text-sm text-slate-500 mt-1">
                        基于报告数据的最高预估时薪比较。
                    </p>
                </div>
                <div class="chart-container">
                    <canvas id="salaryChart"></canvas>
                </div>
            </div>

            <!-- Category Chart -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                <div class="mb-4">
                    <h3 class="text-lg font-semibold text-slate-800 flex items-center">
                        <i class="fa-solid fa-layer-group text-teal-500 mr-2"></i> 工作类型分布
                    </h3>
                    <p class="text-sm text-slate-500 mt-1">
                        了解机会的构成（技术、服务、教育等）。
                    </p>
                </div>
                <div class="chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Filter & Grid Section -->
        <section>
            <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                <div class="text-left">
                    <h3 class="text-2xl font-bold text-slate-800">平台详情与申请攻略</h3>
                    <p class="text-slate-500 text-sm">点击卡片查看直达链接与步骤。</p>
                </div>
                
                <!-- Filters -->
                <div class="flex gap-2 flex-wrap justify-center md:justify-end">
                    <button onclick="filterData('all')" class="filter-btn active px-4 py-2 rounded-lg bg-teal-600 text-white text-sm font-medium hover:bg-teal-700 transition shadow-sm">全部显示</button>
                    <button onclick="filterData('high_suitability')" class="filter-btn px-4 py-2 rounded-lg bg-white border border-stone-200 text-slate-600 text-sm font-medium hover:bg-stone-50 transition shadow-sm">适合中国用户</button>
                    <button onclick="filterData('tech')" class="filter-btn px-4 py-2 rounded-lg bg-white border border-stone-200 text-slate-600 text-sm font-medium hover:bg-stone-50 transition shadow-sm">技术/测试类</button>
                    <button onclick="filterData('service')" class="filter-btn px-4 py-2 rounded-lg bg-white border border-stone-200 text-slate-600 text-sm font-medium hover:bg-stone-50 transition shadow-sm">服务/微任务</button>
                </div>
            </div>

            <!-- Dynamic Grid -->
            <div id="cardsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-20">
                <!-- Cards will be injected here by JS -->
            </div>
        </section>

    </main>

    <!-- Modal for Detailed Research -->
    <div id="detailModal" class="fixed inset-0 bg-slate-900 bg-opacity-50 hidden items-center justify-center z-50 p-4 backdrop-blur-sm">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl h-[90vh] flex flex-col overflow-hidden transform transition-all">
            <!-- Modal Header (Fixed) -->
            <div class="bg-slate-50 px-6 py-4 border-b border-stone-100 flex justify-between items-center flex-shrink-0">
                <div class="flex items-center gap-3">
                    <div id="modalIcon" class="w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 text-lg">
                        <i class="fa-solid fa-briefcase"></i>
                    </div>
                    <div>
                        <h3 id="modalTitle" class="text-xl font-bold text-slate-800">平台名称</h3>
                        <span id="modalCategory" class="text-xs font-semibold text-slate-500 uppercase tracking-wider">类别</span>
                    </div>
                </div>
                <button onclick="closeModal()" class="text-slate-400 hover:text-slate-600 transition">
                    <i class="fa-solid fa-xmark text-2xl"></i>
                </button>
            </div>

            <!-- Modal Body (Scrollable) -->
            <div class="p-6 overflow-y-auto modal-scroll flex-grow space-y-6">
                
                <!-- Key Stats Grid -->
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-stone-50 p-3 rounded-lg border border-stone-100">
                        <span class="block text-xs text-slate-500 mb-1">预估薪资</span>
                        <span id="modalSalary" class="block text-lg font-bold text-teal-700">--</span>
                    </div>
                    <div class="bg-stone-50 p-3 rounded-lg border border-stone-100">
                        <span class="block text-xs text-slate-500 mb-1">中国用户适合度</span>
                        <div id="modalSuitability" class="flex items-center font-medium text-slate-700">--</div>
                    </div>
                </div>

                <!-- Description -->
                <div>
                    <h4 class="text-sm font-bold text-slate-800 uppercase tracking-wide mb-2 border-l-4 border-teal-500 pl-2">工作内容与性质</h4>
                    <p id="modalDesc" class="text-slate-600 text-sm leading-relaxed">--</p>
                </div>

                <!-- Analysis for Chinese Applicants -->
                <div class="bg-amber-50 border border-amber-100 rounded-lg p-4">
                    <h4 class="text-sm font-bold text-amber-800 uppercase tracking-wide mb-2 flex items-center">
                        <i class="fa-solid fa-magnifying-glass mr-2"></i> 中国申请者研究报告
                    </h4>
                    <ul id="modalAnalysis" class="space-y-2 text-sm text-slate-700 list-disc list-inside">
                        <!-- Points injected here -->
                    </ul>
                </div>

                <!-- Application Strategy (Step by Step) -->
                <div class="pb-2">
                    <h4 class="text-sm font-bold text-slate-800 uppercase tracking-wide mb-3 border-l-4 border-blue-500 pl-2">申请攻略 (Step-by-Step)</h4>
                    <!-- Dynamic Content Container -->
                    <div id="modalStrategyContainer"></div>
                </div>
            </div>

            <!-- Modal Footer (Fixed) -->
            <div class="bg-white border-t border-stone-200 px-6 py-4 flex-shrink-0 z-10 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
                <a id="modalLink" href="#" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full px-4 py-3 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition shadow-md active:scale-[0.99]">
                    直达官方申请页面 <i class="fa-solid fa-external-link-alt ml-2"></i>
                </a>
                <p class="text-xs text-center text-slate-400 mt-2">提示：若页面无法打开，请检查您的网络环境。</p>
            </div>
        </div>
    </div>

    <script>
        // --- Data Source ---
        const platforms = [
            {
                id: 3,
                name: "Preply",
                category: "教育/辅导",
                salary: "$15-40+/小时",
                salaryVal: 40,
                desc: "全球在线语言学习平台。教授对外汉语（Mandarin）或您擅长的其他科目。",
                suitability: "High",
                suitabilityText: "非常适合",
                analysis: [
                    "真实性：全球知名平台，流量大。",
                    "优势：中文母语者市场需求稳定。",
                    "支付：支持PayPal, Payoneer，方便中国用户提现。"
                ],
                strategy: [
                    "<strong>第一步：进入导师注册页</strong><br>点击下方按钮直接访问 'Become a tutor' 页面。",
                    "<strong>第二步：完善个人资料</strong><br>如实填写教学经验。如果没有证书，强调你的热情和对话能力。上传一张职业且友好的头像。",
                    "<strong>第三步：录制视频（关键）</strong><br>录制一段2分钟以内的介绍视频。前30秒至关重要！建议使用横屏录制，光线明亮，分别用中文和简单的英文介绍自己。",
                    "<strong>第四步：设定费率</strong><br>新手建议定价在 $10-15/小时，以快速积累首批学生和5星好评。积累5-10个好评后逐步涨价。",
                    "<strong>第五步：设置时间表</strong><br>转换时区，设置你方便授课的北京时间段。"
                ],
                link: "https://preply.com/en/teach" // Direct signup
            },
            {
                id: 4,
                name: "Clickworker",
                category: "微任务/AI数据",
                salary: "$10-50/小时",
                salaryVal: 30, 
                desc: "著名的众包平台，核心任务为UHRS（搜索评价）以及语音/图片采集。",
                suitability: "High",
                suitabilityText: "非常适合",
                analysis: [
                    "信誉：老牌德企，非常靠谱。",
                    "中国友好度：完全开放，有专门的中文项目。",
                    "支付：支持 Payoneer 和 PayPal。"
                ],
                strategy: [
                    "<strong>第一步：注册并完善档案</strong><br>注册时务必在语言栏添加 'Chinese (Native)'，这决定了你能否接到中文任务。",
                    "<strong>第二步：下载 APP</strong><br>安装 Clickworker 手机应用，很多拍照和语音采集任务（如“拍摄家里的植物”）只能在手机端完成。",
                    "<strong>第三步：通过 UHRS 考核 (高薪关键)</strong><br>在电脑端登录后台，找到 'Assessments'。必须通过 'UHRS I' 和 'UHRS II' 英语逻辑测试。建议先在网上搜索 'UHRS assessment answers' 做足功课再考，机会有限。",
                    "<strong>第四步：绑定支付</strong><br>尽早绑定 Payoneer 账户以便收款。"
                ],
                link: "https://www.clickworker.com/clickworker-job/" // Direct signup
            },
            {
                id: 11,
                name: "Appen",
                category: "AI数据/微任务",
                salary: "项目制",
                salaryVal: 15,
                desc: "全球AI数据服务巨头。提供长期的搜索评价、社交媒体评估项目。",
                suitability: "High",
                suitabilityText: "非常适合",
                analysis: [
                    "分部：Appen（澳鹏）在中国有大量业务。",
                    "稳定性：一旦进入项目（Project），通常可以稳定工作半年以上。",
                    "支付：Payoneer。"
                ],
                strategy: [
                    "<strong>第一步：注册 Appen Connect</strong><br>访问下方按钮链接，选择 'Contractors' 进行注册。建议使用 Gmail。",
                    "<strong>第二步：上传简历</strong><br>虽然是兼职，但最好上传一份英文简历，强调你的细心、耐心和英语阅读能力。",
                    "<strong>第三步：申请项目 (Apply)</strong><br>登录 Dashboard，在 'Projects' 标签页搜索 'Chinese' 或 'China'。核心项目通常叫 Yukon, Arrow, Crescent 等代号。",
                    "<strong>第四步：阅读指南并考试</strong><br>每个项目都有长达100页的 Guidelines。这必须读！考试是开卷的，请边看指南边答题。",
                    "<strong>第五步：签署文件</strong><br>考试通过后，签署保密协议 (NDA) 即可开始接单。"
                ],
                link: "https://account.appen.com/register/ops" // Direct signup
            },
            {
                id: 5,
                name: "Transcription Hub",
                category: "转录/翻译",
                salary: "$15-25/小时",
                salaryVal: 20,
                desc: "将音频文件转换为文本。内容包括会议记录、访谈等。",
                suitability: "Medium",
                suitabilityText: "中等 (语言门槛)",
                analysis: [
                    "技能：需要极好的英语听力。",
                    "支付：PayPal。"
                ],
                strategy: [
                    "<strong>第一步：注册转录员</strong><br>点击下方链接进入 'Register as Transcriber' 页面。",
                    "<strong>第二步：在线评估</strong><br>系统会提供一段几分钟的音频，你需要当场将其转录为文本。注意标点符号和拼写。",
                    "<strong>第三步：等待评级</strong><br>根据你的测试准确率，系统会给你评级（Gold/Silver/Bronze）。Gold 等级单价最高，优先派单。",
                    "<strong>第四步：接单</strong><br>登录后台 'Marketplace' 领取任务，建议配备降噪耳机。"
                ],
                link: "https://www.transcriptionhub.com/transcriber-registration"
            },
            {
                id: 8,
                name: "UserTesting",
                category: "用户测试",
                salary: "$10/测试 (20min)",
                salaryVal: 30,
                desc: "录制屏幕和语音，边操作边说出你对网站的看法。",
                suitability: "Medium",
                suitabilityText: "中等 (需口语)",
                analysis: [
                    "门槛：需要通过 Practice Test。",
                    "支付：PayPal，七天自动到账。"
                ],
                strategy: [
                    "<strong>第一步：邮箱注册</strong><br>输入邮箱，点击 'Get Paid to Test'。",
                    "<strong>第二步：准备设备</strong><br>找一个绝对安静的房间，准备好外接麦克风（音质很重要）。",
                    "<strong>第三步：完成试录 (Practice Test)</strong><br>下载官方录屏软件。按照提示打开一个示例网站。关键点：**不停地说话 (Think Aloud)**。不要只看网页，要把脑子里的想法大声说出来，比如“我在找登录按钮，但我没看到，我觉得这个颜色太淡了”。",
                    "<strong>第四步：等待审核</strong><br>人工审核通过后，完善个人资料（Profile），如实填写居住地和所用设备。"
                ],
                link: "https://www.usertesting.com/get-paid-to-test"
            },
            {
                id: 10,
                name: "PlaybookUX",
                category: "用户测试",
                salary: "类似UserTesting",
                salaryVal: 30,
                desc: "与UserTesting类似，帮助企业测试产品并提供视频反馈。",
                suitability: "Medium",
                suitabilityText: "中等",
                analysis: [
                    "竞争：相对较小。",
                    "支付：PayPal。"
                ],
                strategy: [
                    "<strong>第一步：注册 Tester</strong><br>直接点击下方链接注册。",
                    "<strong>第二步：绑定社交账号</strong><br>为了验证真人身份，通常要求绑定 LinkedIn 或 Facebook。",
                    "<strong>第三步：完成非付费试题</strong><br>系统会给一个简短的任务，类似于UserTesting，需要边操作边说话。确保英语口语清晰。",
                    "<strong>第四步：多平台策略</strong><br>建议作为 UserTesting 的补充，同时开启两个平台的通知。"
                ],
                link: "https://www.playbookux.com/tester"
            },
            {
                id: 12,
                name: "User Interviews",
                category: "市场调研",
                salary: "$20-100+/小时",
                salaryVal: 60,
                desc: "参与深度访谈（Zoom或电话），针对特定职业或消费者群体。",
                suitability: "Medium",
                suitabilityText: "中等 (受众特定)",
                analysis: [
                    "筛选：极其严格，寻找特定画像。",
                    "机会：中国用户也有机会被选中参与针对亚太市场的调研。"
                ],
                strategy: [
                    "<strong>第一步：建立档案 (Profile)</strong><br>注册时，建议直接使用 LinkedIn 链接登录，这能极大增加你的可信度。",
                    "<strong>第二步：精准贴标签</strong><br>详细填写你的职业技能（如 Python, Photoshop）和生活状态（如 '家有宠物'）。标签越细，匹配越准。",
                    "<strong>第三步：填写筛选问卷 (Screener)</strong><br>收到邮件邀请后，要立刻去填筛选问卷。问卷中会有陷阱题验证真实性，请务必诚实。",
                    "<strong>第四步：预约时间</strong><br>如果通过筛选，选择一个网络稳定的时段进行 Zoom 面试。"
                ],
                link: "https://www.userinterviews.com/participants"
            },
            {
                id: 6,
                name: "Remotive",
                category: "全职/兼职招聘",
                salary: "有竞争力",
                salaryVal: 35,
                desc: "远程工作招聘板，主要发布科技、营销类职位。",
                suitability: "Medium",
                suitabilityText: "中等 (高技能)",
                analysis: [
                    "性质：正经找工作，非微任务。",
                    "竞争：全球化竞争。"
                ],
                strategy: [
                    "<strong>第一步：筛选职位</strong><br>在 Jobs 页面，务必勾选 'Worldwide' 或 'APAC' (亚太区) 标签，过滤掉只招美国人的职位。",
                    "<strong>第二步：针对性简历</strong><br>不要海投。针对你申请的职位（如前端开发），修改你的英文简历关键词。",
                    "<strong>第三步：准备作品集</strong><br>如果是设计或开发岗，整理好 GitHub 或 Dribbble 链接。",
                    "<strong>第四步：直接申请</strong><br>点击 Apply 会跳转到该公司的 ATS 系统或邮箱，按要求发送邮件。"
                ],
                link: "https://remotive.com/remote-jobs"
            },
            {
                id: 13,
                name: "Airpost",
                category: "AI工具/营销",
                salary: "变现不固定",
                salaryVal: 20,
                desc: "利用AI生成内容。需配合自由职业平台变现。",
                suitability: "Medium",
                suitabilityText: "中等 (需懂运营)",
                analysis: [
                    "性质：这是一个工具，不是雇主。",
                ],
                strategy: [
                    "<strong>第一步：熟悉工具</strong><br>注册 Airpost 或类似 AI 营销工具，学习如何一键生成 Post。",
                    "<strong>第二步：寻找客户</strong><br>前往 Fiverr 或 Upwork，发布服务 Gig：“I will manage your social media content using AI”。",
                    "<strong>第三步：接单交付</strong><br>接到客户需求后，利用 Airpost 快速生成文案和图片，人工润色后交付。",
                    "<strong>第四步：建立长期合作</strong><br>以低价吸引首批客户，展示 AI 的高效率，转化为长期包月服务。"
                ],
                link: "https://www.airpost.io" 
            },
            // --- Low Suitability Items (Simplified Strategy) ---
            {
                id: 1,
                name: "Arise",
                category: "客服/支持",
                salary: "$10-20/小时",
                salaryVal: 20, 
                desc: "远程客户服务，需特定身份。",
                suitability: "Low", 
                suitabilityText: "较低 (需特定身份)",
                analysis: ["硬门槛：需美国/英国等税务身份。", "网络：需硬线连接。"],
                strategy: [
                    "<strong>提示：</strong>不建议中国大陆用户直接申请。",
                    "如果您身在海外且有合法工签，可尝试注册。需自行承担设备费和背景调查费用。"
                ],
                link: "https://www.arise.com"
            },
            {
                id: 2,
                name: "Gaggle",
                category: "内容审核",
                salary: "$20-25/小时",
                salaryVal: 25,
                desc: "学生安全内容审核。",
                suitability: "Low",
                suitabilityText: "较低 (严格背调)",
                analysis: ["门槛：涉及未成年人，背调极严。"],
                strategy: [
                    "<strong>提示：</strong>主要面向美国本土居民。",
                    "建议改申请 Appen 或 Lionbridge 的内容审核项目。"
                ],
                link: "https://www.gaggle.net"
            },
            {
                id: 7,
                name: "TaskRabbit",
                category: "本地服务",
                salary: "$24-33/小时",
                salaryVal: 28,
                desc: "本地体力/技能服务。",
                suitability: "Low",
                suitabilityText: "不适合 (地域限制)",
                analysis: ["限制：基于地理位置的服务。"],
                strategy: [
                    "<strong>提示：</strong>无法在中国国内操作。",
                    "仅适合身在开通城市（如伦敦、纽约）的留学生使用。"
                ],
                link: "https://www.taskrabbit.com"
            },
            {
                id: 9,
                name: "TextBroker",
                category: "写作/文案",
                salary: "$20-30/小时",
                salaryVal: 25,
                desc: "英语内容写作平台。",
                suitability: "Low",
                suitabilityText: "较低 (身份限制)",
                analysis: ["身份：需验证美/英/加/澳居民身份。"],
                strategy: [
                    "<strong>提示：</strong>直接注册极难通过。",
                    "建议中国写手使用 Upwork 或 Fiverr 接单。"
                ],
                link: "https://www.textbroker.com/authors"
            }
        ];

        // --- Visualization Logic ---
        function initCharts() {
            const labels = platforms.map(p => p.name);
            const salaryData = platforms.map(p => p.salaryVal);
            const categoryCounts = {};
            platforms.forEach(p => {
                categoryCounts[p.category] = (categoryCounts[p.category] || 0) + 1;
            });

            // Salary Chart
            const ctxSalary = document.getElementById('salaryChart').getContext('2d');
            new Chart(ctxSalary, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '预估最高时薪 ($)',
                        data: salaryData,
                        backgroundColor: '#0d9488',
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: '#f5f5f4' } },
                        x: { display: false } // Hide labels to keep it clean
                    }
                }
            });

            // Category Chart
            const ctxCategory = document.getElementById('categoryChart').getContext('2d');
            new Chart(ctxCategory, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(categoryCounts),
                    datasets: [{
                        data: Object.values(categoryCounts),
                        backgroundColor: ['#ccfbf1', '#99f6e4', '#5eead4', '#2dd4bf', '#0d9488', '#115e59', '#134e4a'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'right', labels: { boxWidth: 12 } } },
                    layout: { padding: 10 }
                }
            });
        }

        // --- Interaction Logic ---
        const grid = document.getElementById('cardsGrid');
        const suitabilityPriority = { 'High': 1, 'Medium': 2, 'Low': 3 };

        function renderCards(filterType) {
            grid.innerHTML = '';
            
            let filtered = platforms.filter(p => {
                if (filterType === 'all') return true;
                if (filterType === 'high_suitability') return p.suitability === 'High';
                if (filterType === 'tech') return ['内容审核', '用户测试', 'AI数据/微任务', '全职/兼职招聘'].includes(p.category);
                if (filterType === 'service') return ['客服/支持', '本地服务', '教育/辅导', '写作/文案'].includes(p.category);
                return true;
            });

            // Sort: High -> Medium -> Low
            filtered.sort((a, b) => suitabilityPriority[a.suitability] - suitabilityPriority[b.suitability]);

            filtered.forEach(item => {
                let badgeClass, dotColor;
                if(item.suitability === 'High') {
                    badgeClass = 'bg-teal-50 text-teal-700 border border-teal-100';
                    dotColor = '#0d9488';
                } else if (item.suitability === 'Low') {
                    badgeClass = 'bg-red-50 text-red-700 border border-red-100';
                    dotColor = '#ef4444';
                } else {
                    badgeClass = 'bg-amber-50 text-amber-700 border border-amber-100';
                    dotColor = '#d97706';
                }

                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl p-6 shadow-sm border border-stone-200 hover:shadow-md transition cursor-pointer flex flex-col justify-between h-full group';
                card.onclick = () => openModal(item);
                
                card.innerHTML = `
                    <div>
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold text-slate-800 group-hover:text-teal-600 transition">${item.name}</h3>
                            <span class="text-xs font-semibold px-2 py-1 rounded ${badgeClass} flex items-center">
                                <span class="suitability-dot" style="background-color: ${dotColor};"></span>
                                ${item.suitabilityText.split(' ')[0]}
                            </span>
                        </div>
                        <p class="text-sm text-slate-500 mb-2 font-medium bg-stone-50 inline-block px-2 py-1 rounded">${item.category}</p>
                        <p class="text-sm text-slate-600 mb-4 line-clamp-2">${item.desc}</p>
                    </div>
                    <div class="pt-4 border-t border-stone-100 flex justify-between items-center">
                        <span class="text-teal-700 font-bold text-sm">${item.salary}</span>
                        <span class="text-xs text-slate-400 group-hover:translate-x-1 transition"><i class="fa-solid fa-arrow-right"></i> 查看攻略</span>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function filterData(type) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-teal-600', 'text-white');
                btn.classList.add('bg-white', 'text-slate-600');
            });
            const activeBtn = event.target;
            activeBtn.classList.remove('bg-white', 'text-slate-600');
            activeBtn.classList.add('bg-teal-600', 'text-white');
            renderCards(type);
        }

        // Modal Logic
        const modal = document.getElementById('detailModal');

        function openModal(item) {
            document.getElementById('modalTitle').innerText = item.name;
            document.getElementById('modalCategory').innerText = item.category;
            document.getElementById('modalSalary').innerText = item.salary;
            document.getElementById('modalDesc').innerText = item.desc;
            
            // Suitability Styling
            const suitEl = document.getElementById('modalSuitability');
            suitEl.innerText = item.suitabilityText;
            if (item.suitability === 'High') suitEl.className = 'flex items-center font-bold text-teal-600';
            else if (item.suitability === 'Low') suitEl.className = 'flex items-center font-bold text-red-500';
            else suitEl.className = 'flex items-center font-bold text-amber-600';

            // Analysis List
            const analysisList = document.getElementById('modalAnalysis');
            analysisList.innerHTML = '';
            item.analysis.forEach(point => {
                const li = document.createElement('li');
                li.innerHTML = point.replace(/：/, '：<strong>').replace(/(。|$)/, '</strong>$1');
                analysisList.appendChild(li);
            });

            // Strategy Rendering (Step by Step Logic)
            const strategyContainer = document.getElementById('modalStrategyContainer');
            strategyContainer.innerHTML = ''; // Clear previous

            if (Array.isArray(item.strategy)) {
                // Render as ordered list
                const ol = document.createElement('ol');
                ol.className = 'step-list';
                item.strategy.forEach(step => {
                    const li = document.createElement('li');
                    li.innerHTML = step;
                    ol.appendChild(li);
                });
                strategyContainer.appendChild(ol);
            } else {
                // Fallback for simple string
                const p = document.createElement('p');
                p.className = 'text-slate-600 text-sm leading-relaxed';
                p.innerText = item.strategy;
                strategyContainer.appendChild(p);
            }

            document.getElementById('modalLink').href = item.link;

            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeModal() {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        window.addEventListener('load', () => {
            initCharts();
            renderCards('all');
        });

    </script>
</body>
</html>
